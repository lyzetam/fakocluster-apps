<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name"> | My New Hugo Site</title>
<meta property="og:title" content=" | My New Hugo Site" />
<meta name="twitter:title" content=" | My New Hugo Site" />
<meta itemprop="name" content=" | My New Hugo Site" />
<meta name="application-name" content=" | My New Hugo Site" />
<meta property="og:site_name" content="" />

<meta name="description" content="">
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />

  <link rel="alternate" hreflang="en" href="http://localhost:1313/pages/services/kagent/readme/" title="" />






<meta name="generator" content="Hugo 0.148.2">

    
    <meta property="og:url" content="http://localhost:1313/pages/services/kagent/readme/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="KAgent - Kubernetes AI Agent Framework Overview KAgent is a Kubernetes-native AI agent framework deployed in the Fako cluster. It provides a platform for deploying and managing AI agents that can interact with various systems through the Model Context Protocol (MCP). Agents can be configured with different AI models, specialized knowledge, and tool access. The framework supports multiple AI providers including OpenAI, Ollama, and GPUStack, making it flexible for various use cases from Kubernetes operations to code generation.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="pages">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="My New Hugo Site">
  <meta name="twitter:description" content="KAgent - Kubernetes AI Agent Framework Overview KAgent is a Kubernetes-native AI agent framework deployed in the Fako cluster. It provides a platform for deploying and managing AI agents that can interact with various systems through the Model Context Protocol (MCP). Agents can be configured with different AI models, specialized knowledge, and tool access. The framework supports multiple AI providers including OpenAI, Ollama, and GPUStack, making it flexible for various use cases from Kubernetes operations to code generation.">


    

    <link rel="canonical" href="http://localhost:1313/pages/services/kagent/readme/">
    <link href="/style.min.e390ba7da26222f4dc42a349955d76dbbe44e5ce2535a43de5a70633a0a9ec3c.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    
</head>
<body data-theme = "" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title></title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/pages/about/">
                        About
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/projects/">
                        Projects
                    </a>
                    
                    <ul>
                        
                        <li>
                            <a class="menu-link "
                                href="/pages/projects/ollama/">
                                Ollama AI Server
                            </a>
                        </li>
                        
                        <li>
                            <a class="menu-link "
                                href="/pages/projects/open-webui/">
                                Open WebUI
                            </a>
                        </li>
                        
                        <li>
                            <a class="menu-link "
                                href="/pages/projects/n8n/">
                                N8N Automation
                            </a>
                        </li>
                        
                        <li>
                            <a class="menu-link "
                                href="/pages/projects/oura-dashboard/">
                                Oura Dashboard
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="">
                        Architecture
                    </a>
                    
                    <ul>
                        
                        <li>
                            <a class="menu-link "
                                href="/pages/architecture/overview/">
                                Overview
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title"></h1>
                
                
            </header>
            
            <div class="page-content">
                <h1 id="kagent---kubernetes-ai-agent-framework">KAgent - Kubernetes AI Agent Framework</h1>
<h2 id="overview">Overview</h2>
<p>KAgent is a Kubernetes-native AI agent framework deployed in the Fako cluster. It provides a platform for deploying and managing AI agents that can interact with various systems through the Model Context Protocol (MCP). Agents can be configured with different AI models, specialized knowledge, and tool access. The framework supports multiple AI providers including OpenAI, Ollama, and GPUStack, making it flexible for various use cases from Kubernetes operations to code generation.</p>
<h2 id="key-features">Key Features</h2>
<ul>
<li><strong>Kubernetes Native</strong>: Custom Resource Definitions (CRDs) for agents</li>
<li><strong>Multi-Provider Support</strong>: OpenAI, Ollama, GPUStack integration</li>
<li><strong>MCP Tool Integration</strong>: Connect agents to MCP servers for extended capabilities</li>
<li><strong>Custom Agents</strong>: Define agents with specific skills and knowledge</li>
<li><strong>Helm Deployment</strong>: Managed via Flux Helm controller</li>
<li><strong>Model Flexibility</strong>: Support for various AI models</li>
<li><strong>System Message Customization</strong>: Tailor agent behavior</li>
<li><strong>External Secret Management</strong>: Secure API key storage</li>
</ul>
<h2 id="architecture">Architecture</h2>
<h3 id="components">Components</h3>
<ol>
<li><strong>Helm Release</strong>: Main kagent deployment</li>
<li><strong>CRDs</strong>: Agent and ModelConfig custom resources</li>
<li><strong>Controller</strong>: Manages agent lifecycle</li>
<li><strong>Service</strong>: ClusterIP on port 80</li>
<li><strong>External Secrets</strong>: API keys from AWS Secrets Manager</li>
<li><strong>Agent Definitions</strong>: Custom agent configurations</li>
</ol>
<h3 id="resource-requirements">Resource Requirements</h3>
<ul>
<li><strong>Memory</strong>: 512Mi (request), 2Gi (limit)</li>
<li><strong>CPU</strong>: 250m (request), 1000m (limit)</li>
<li><strong>Storage</strong>: Minimal, agents are stateless</li>
</ul>
<h2 id="configuration">Configuration</h2>
<h3 id="provider-configuration">Provider Configuration</h3>
<p>Currently configured providers:</p>
<ul>
<li><strong>OpenAI</strong>: Using external secret for API key</li>
<li>Additional providers can be configured (Ollama, GPUStack)</li>
</ul>
<h3 id="agent-types">Agent Types</h3>
<p>Example agents included:</p>
<ol>
<li><strong>k8s-operator</strong>: Kubernetes management agent</li>
<li><strong>deepseek-r1-coder</strong>: Code generation agent</li>
<li><strong>qwen3-8b</strong>: General purpose agent</li>
</ol>
<h2 id="usage">Usage</h2>
<h3 id="creating-an-agent">Creating an Agent</h3>
<p>Define an agent using the CRD:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">kagent.dev/v1alpha1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Agent</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-agent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">kagent</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">description</span>: <span style="color:#e6db74">&#34;My custom AI agent&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">modelConfig</span>: <span style="color:#e6db74">&#34;openai-gpt4&#34;</span>  <span style="color:#75715e"># Reference to ModelConfig</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">systemMessage</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    You are a helpful assistant specialized in...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tools</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kubernetes-mcp</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">endpoint</span>: <span style="color:#e6db74">&#34;http://kubernetes-mcp-server:80&#34;</span>
</span></span></code></pre></div><h3 id="model-configuration">Model Configuration</h3>
<p>Define available models:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">kagent.dev/v1alpha1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ModelConfig</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">openai-gpt4</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">kagent</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">provider</span>: <span style="color:#ae81ff">openai</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">model</span>: <span style="color:#ae81ff">gpt-4</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">temperature</span>: <span style="color:#ae81ff">0.7</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">maxTokens</span>: <span style="color:#ae81ff">4096</span>
</span></span></code></pre></div><h3 id="interacting-with-agents">Interacting with Agents</h3>
<p>Access agents via the service:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Port forward to access locally</span>
</span></span><span style="display:flex;"><span>kubectl port-forward -n kagent svc/kagent 8080:80
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Send request to agent</span>
</span></span><span style="display:flex;"><span>curl -X POST http://localhost:8080/agents/k8s-operator/chat <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{&#34;message&#34;: &#34;List all pods in default namespace&#34;}&#39;</span>
</span></span></code></pre></div><h2 id="agent-examples">Agent Examples</h2>
<h3 id="kubernetes-operator-agent">Kubernetes Operator Agent</h3>
<p>Specialized for cluster management:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">description</span>: <span style="color:#ae81ff">Advanced Kubernetes operator with MCP tools</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">modelConfig</span>: <span style="color:#ae81ff">ollama-qwen3-30b-a3b</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">systemMessage</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    You are an expert Kubernetes operator...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - List and inspect all Kubernetes resources
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - View pod logs and execute commands
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - Generate and validate manifests
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - Analyze cluster health</span>
</span></span></code></pre></div><h3 id="code-generation-agent">Code Generation Agent</h3>
<p>For development tasks:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">description</span>: <span style="color:#ae81ff">Expert coder with deep thinking capabilities</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">modelConfig</span>: <span style="color:#ae81ff">deepseek-r1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">systemMessage</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    You are an expert programmer...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - Write clean, efficient code
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - Follow best practices
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    - Provide detailed explanations</span>
</span></span></code></pre></div><h2 id="operations">Operations</h2>
<h3 id="checking-service-status">Checking Service Status</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check kagent pods</span>
</span></span><span style="display:flex;"><span>kubectl get pods -n kagent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># View controller logs</span>
</span></span><span style="display:flex;"><span>kubectl logs -n kagent -l app.kubernetes.io/name<span style="color:#f92672">=</span>kagent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># List agents</span>
</span></span><span style="display:flex;"><span>kubectl get agents -n kagent
</span></span></code></pre></div><h3 id="managing-agents">Managing Agents</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Create new agent</span>
</span></span><span style="display:flex;"><span>kubectl apply -f my-agent.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Update agent configuration</span>
</span></span><span style="display:flex;"><span>kubectl edit agent my-agent -n kagent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Delete agent</span>
</span></span><span style="display:flex;"><span>kubectl delete agent my-agent -n kagent
</span></span></code></pre></div><h3 id="monitoring-agent-activity">Monitoring Agent Activity</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># View agent logs</span>
</span></span><span style="display:flex;"><span>kubectl logs -n kagent -l agent<span style="color:#f92672">=</span>my-agent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check agent metrics (if enabled)</span>
</span></span><span style="display:flex;"><span>kubectl port-forward -n kagent svc/kagent-metrics 9090:9090
</span></span></code></pre></div><h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="agent-not-responding">Agent Not Responding</h3>
<ol>
<li><strong>Check agent status</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe agent my-agent -n kagent
</span></span></code></pre></div><ol start="2">
<li><strong>Verify model configuration</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get modelconfig -n kagent
</span></span></code></pre></div><ol start="3">
<li><strong>Check API keys</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get secret kagent-openai -n kagent
</span></span></code></pre></div><h3 id="api-key-issues">API Key Issues</h3>
<ol>
<li><strong>Verify external secret</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl describe externalsecret kagent-openai -n kagent
</span></span></code></pre></div><ol start="2">
<li><strong>Check secret data</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get secret kagent-openai -n kagent -o yaml
</span></span></code></pre></div><h3 id="model-connection-failures">Model Connection Failures</h3>
<ol>
<li><strong>For Ollama models</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Check Ollama service</span>
</span></span><span style="display:flex;"><span>kubectl get svc -n ollama
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Test connection</span>
</span></span><span style="display:flex;"><span>kubectl exec -n kagent deployment/kagent -- <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  curl -s http://ollama.ollama.svc.cluster.local:11434/api/tags
</span></span></code></pre></div><ol start="2">
<li><strong>For OpenAI</strong>:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Test API key</span>
</span></span><span style="display:flex;"><span>kubectl exec -n kagent deployment/kagent -- <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  curl -s https://api.openai.com/v1/models <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$OPENAI_API_KEY<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><h2 id="security-considerations">Security Considerations</h2>
<h3 id="api-key-management">API Key Management</h3>
<ul>
<li>All API keys stored in AWS Secrets Manager</li>
<li>Accessed via External Secrets Operator</li>
<li>Never hardcoded in configurations</li>
</ul>
<h3 id="agent-permissions">Agent Permissions</h3>
<ul>
<li>Agents run with limited permissions</li>
<li>MCP tools require explicit configuration</li>
<li>Network policies can restrict access</li>
</ul>
<h3 id="best-practices">Best Practices</h3>
<ol>
<li><strong>Limit agent capabilities</strong>: Only grant necessary tools</li>
<li><strong>Monitor usage</strong>: Track API calls and costs</li>
<li><strong>Rotate keys</strong>: Regular API key rotation</li>
<li><strong>Audit agents</strong>: Review agent activities</li>
<li><strong>Namespace isolation</strong>: Separate sensitive agents</li>
</ol>
<h2 id="mcp-tool-integration">MCP Tool Integration</h2>
<h3 id="available-mcp-servers">Available MCP Servers</h3>
<p>Agents can connect to:</p>
<ul>
<li><code>kubernetes-mcp-server</code>: Kubernetes operations</li>
<li><code>filesystem-mcp</code>: File system access</li>
<li><code>postgres-mcp</code>: Database queries</li>
<li><code>github-mcp</code>: Repository management</li>
</ul>
<h3 id="configuring-tools">Configuring Tools</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tools</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kubernetes-mcp</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">endpoint</span>: <span style="color:#e6db74">&#34;http://kubernetes-mcp-server.mcp-servers:80&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">capabilities</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">read</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">write</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">postgres-mcp</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">endpoint</span>: <span style="color:#e6db74">&#34;http://postgres-mcp-server.mcp-servers:80&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">capabilities</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">query</span>
</span></span></code></pre></div><h2 id="advanced-configuration">Advanced Configuration</h2>
<h3 id="custom-provider-setup">Custom Provider Setup</h3>
<p>Add new AI provider:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># In values.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">providers</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">anthropic</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">existingSecret</span>: <span style="color:#ae81ff">kagent-anthropic</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">existingSecretKey</span>: <span style="color:#ae81ff">ANTHROPIC_API_KEY</span>
</span></span></code></pre></div><h3 id="agent-templates">Agent Templates</h3>
<p>Create reusable templates:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">kagent.dev/v1alpha1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">AgentTemplate</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">base-k8s-agent</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">systemMessage</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Base Kubernetes agent configuration...</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tools</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">kubernetes-mcp</span>
</span></span></code></pre></div><h3 id="rate-limiting">Rate Limiting</h3>
<p>Configure rate limits:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">rateLimits</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">requestsPerMinute</span>: <span style="color:#ae81ff">60</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">tokensPerMinute</span>: <span style="color:#ae81ff">100000</span>
</span></span></code></pre></div><h2 id="monitoring">Monitoring</h2>
<h3 id="key-metrics">Key Metrics</h3>
<ul>
<li>Agent request count</li>
<li>Response times</li>
<li>Token usage</li>
<li>Error rates</li>
<li>Active agents</li>
</ul>
<h3 id="prometheus-integration">Prometheus Integration</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># ServiceMonitor for metrics</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">monitoring.coreos.com/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ServiceMonitor</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kagent</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">selector</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">matchLabels</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">app.kubernetes.io/name</span>: <span style="color:#ae81ff">kagent</span>
</span></span></code></pre></div><h3 id="cost-tracking">Cost Tracking</h3>
<p>Monitor API usage:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># OpenAI usage</span>
</span></span><span style="display:flex;"><span>kubectl exec -n kagent deployment/kagent -- <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  ./scripts/check-usage.sh
</span></span></code></pre></div><h2 id="maintenance">Maintenance</h2>
<h3 id="regular-tasks">Regular Tasks</h3>
<ol>
<li>
<p><strong>Daily</strong>:</p>
<ul>
<li>Monitor agent errors</li>
<li>Check API usage</li>
<li>Review costs</li>
</ul>
</li>
<li>
<p><strong>Weekly</strong>:</p>
<ul>
<li>Update agent configurations</li>
<li>Review agent performance</li>
<li>Clean unused agents</li>
</ul>
</li>
<li>
<p><strong>Monthly</strong>:</p>
<ul>
<li>Update kagent version</li>
<li>Rotate API keys</li>
<li>Audit agent access</li>
</ul>
</li>
</ol>
<h3 id="backup-and-recovery">Backup and Recovery</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Backup agent definitions</span>
</span></span><span style="display:flex;"><span>kubectl get agents -n kagent -o yaml &gt; agents-backup.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Backup model configs</span>
</span></span><span style="display:flex;"><span>kubectl get modelconfigs -n kagent -o yaml &gt; models-backup.yaml
</span></span></code></pre></div><h3 id="version-updates">Version Updates</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Update Helm release</span>
</span></span><span style="display:flex;"><span>kubectl edit helmrelease kagent -n kagent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Update CRDs if needed</span>
</span></span><span style="display:flex;"><span>kubectl apply -f apps/base/kagent/release-crds.yaml
</span></span></code></pre></div><h2 id="use-cases">Use Cases</h2>
<h3 id="devops-automation">DevOps Automation</h3>
<ul>
<li>Kubernetes troubleshooting</li>
<li>Deployment automation</li>
<li>Log analysis</li>
<li>Performance optimization</li>
</ul>
<h3 id="development-support">Development Support</h3>
<ul>
<li>Code generation</li>
<li>Code review</li>
<li>Documentation writing</li>
<li>Bug analysis</li>
</ul>
<h3 id="operations-1">Operations</h3>
<ul>
<li>Incident response</li>
<li>System monitoring</li>
<li>Report generation</li>
<li>Workflow automation</li>
</ul>
<h2 id="future-improvements">Future Improvements</h2>
<ul>
<li><input disabled="" type="checkbox"> Add web UI for agent management</li>
<li><input disabled="" type="checkbox"> Implement agent chaining</li>
<li><input disabled="" type="checkbox"> Add conversation history storage</li>
<li><input disabled="" type="checkbox"> Create agent marketplace</li>
<li><input disabled="" type="checkbox"> Implement fine-tuning support</li>
<li><input disabled="" type="checkbox"> Add multi-tenant isolation</li>
<li><input disabled="" type="checkbox"> Create agent testing framework</li>
<li><input disabled="" type="checkbox"> Add cost optimization features</li>
<li><input disabled="" type="checkbox"> Implement agent versioning</li>
<li><input disabled="" type="checkbox"> Add observability dashboards</li>
</ul>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
</div>
    <small class="footer_copyright">
        © 2025 .
        
    </small>
</footer>







    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
